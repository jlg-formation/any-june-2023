<main>
  <h1>Ajoute un article</h1>
  <form [formGroup]="f" (ngSubmit)="submit()">
    <label>
      <span>Nom</span>
      <input type="text" formControlName="name" appAutofocus />
      <span class="error">
        <span *ngIf="f.controls['name'].invalid && f.controls['name'].touched">
          <span *ngIf="f.controls['name'].errors?.['required']">
            Champ Requis
          </span>
          <span *ngIf="f.controls['name'].errors?.['maxlength']">
            Trop long
            {{ f.controls['name'].errors?.['maxlength'].actualLength


            }}/{{ f.controls['name'].errors?.['maxlength'].requiredLength


            }}max
          </span>
        </span>
      </span>
    </label>
    <label>
      <span>Prix</span>
      <input type="number" formControlName="price" />
    </label>
    <label>
      <span>Quantit√©</span>
      <input type="number" formControlName="qty" />
    </label>
    <div class="error">
      <span *ngIf="errorMsg">Erreur : {{ errorMsg }}</span>
    </div>
    <div class="buttons">
      <button class="primary" [disabled]="isAdding || f.invalid">
        <fa-icon
          [icon]="isAdding ? faCircleNotch : faPlus"
          [spin]="isAdding"
        ></fa-icon>
        <span>Ajouter</span>
      </button>
    </div>
  </form>

  {{ f.controls["name"].errors | json }}
</main>
